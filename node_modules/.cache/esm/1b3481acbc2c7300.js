let fs,path,chalk,boxen,prompt,connect,argv,configPrompts,welcomePrompts;_bc2‍.x([["run",()=>run]]);_bc2‍.w("fs",[["default",["fs"],function(v){fs=v}]]);_bc2‍.w("path",[["default",["path"],function(v){path=v}]]);_bc2‍.w("chalk",[["default",["chalk"],function(v){chalk=v}]]);_bc2‍.w("boxen",[["default",["boxen"],function(v){boxen=v}]]);_bc2‍.w("prompts",[["prompt",["prompt"],function(v){prompt=v}]]);_bc2‍.w("./connection",[["default",["connect"],function(v){connect=v}]]);_bc2‍.w("./args",[["default",["argv"],function(v){argv=v}]]);_bc2‍.w("./prompts/config",[["default",["configPrompts"],function(v){configPrompts=v}]]);_bc2‍.w("./prompts/welcome",[["default",["welcomePrompts"],function(v){welcomePrompts=v}]]);// default functionality, no commands







const fsp = fs.promises;






       async function run( ) {

	// load config file

	let config;

	try {
		const absPath = await path.resolve(approot, 'sunshine.config.json');
		const data = await fsp.readFile(absPath);
		config = JSON.parse(data);
	} catch (err) {
		const configParams = await welcomePrompts();
		// map config params from prompts to the structure of the config json
	}

	// do stuff with config / options

	if (argv.init) {
		require('./commands/init').handler();
	}

	else if (argv.test) {
		console.log('testing!');
	}

	// stash this functionality in a welcome flag for now, eventually call it from config.js
	else if (argv.welcome) {
		const answers = await welcomePrompts();

		if (answers.setup) {
			const configParams = await configPrompts();
			const config = {
				connection: {
					host: configParams.host,
					port: configParams.port,
					username: configParams.username,
					password: configParams.password
				},
				project: configParams.project || path.dirname(projroot),
				keyDir: configParams.keydir || path.resolve(projroot, '.sunshine')
			}
		}
		
		// then write to file
	}

	else {
		//const answers = await configPrompts();
		//connect(config);
	}
}